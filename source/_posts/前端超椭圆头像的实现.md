---
title: 前端超椭圆头像的实现
date: 2022-06-08 13:30:00
tags:
---

## 背景

UX工程师为了美观在设计方案上加入了“超椭圆”头像设计，这可难不倒我们前端工程师，灵光一闪想出了解决方案～

<img style="width:400px !important;" src="/images/hyperelliptic_1.png" />

## 开发思路

1、由于前期工作原因，在开发Chrome插件的时候有处理过超椭圆设计，在iframe上有一个样式可以实现该UI效果 - “mask-image”, 用于设置元素上遮罩层的图像。

<img style="width:200px !important;" src="/images/hyperelliptic_2.png" />

2、具体的实现是用一个有超椭圆型状的svg作为遮罩去遮住多余的部分。

```html
<img src="/images/avatar.png" />
```

```css
img {
  width: 60px;
  height: 60px;
  user-select: none;
  -webkit-mask-size: cover;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-image: url('data:image/svg+xml;utf8,<svg viewBox="3.5 3.5 165 165" xmlns="http://www.w3.org/2000/svg"><path d="M86,4 C116.191566,4 136.63658,9.48730185 149.574639,22.4253609 C162.512698,35.3634199 168,52.808434 168,86 C168,116.191566 162.512698,136.63658 149.574639,149.574639 C136.63658,162.512698 116.191566,168 86,168 C55.8084337,168 35.3634199,162.512698 22.4253609,149.574639 C9.48730185,136.63658 4,116.191566 4,86 C4,55.8084337 9.48730185,35.3634199 22.4253609,22.4253609 C35.3634199,9.48730185 55.8084337,4 86,4 Z"/></svg>');
}
```

可以看看这个svg的预览状态，代码中的这个svg形状是刚刚好的。有需要的小伙伴可以直接copy上面的css代码。

<img style="width:300px !important;" src="/images/hyperelliptic_3.png" />